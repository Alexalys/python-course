# Рядки
## Рядок - це послідовність
## Отримання довжини рядка з використанням len
## Обхід через рядок за допомогою циклу
## Зріз рядка
## Рядки є незмінними
## Оператор in
## Порівняння рядків
## Малі методи
## Розбір (parsing) рядків ) рядків
## Оператор форматування
## Регулярні вирази, модуль re
В програмуванні, регулярний вираз (від англ. regular expression, скорочено regex або regexp, 
а іноді ще й називають rational expression) &mdash; це рядок, що описує або співпадає з множиною рядків, 
відповідно до набору спеціальних синтаксичних правил 
[wiki](https://uk.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D0%B8%D0%B9_%D0%B2%D0%B8%D1%80%D0%B0%D0%B7).

Регулярні вирази &mdash; це окрема псевдо-мова програмування, яка широко використовується в багатьох мовах
програмування і Python в тому числі.

Модуль взаємодії з регулярними виразами в Python називається `re`, його слід спочатку імпортувати щоб використовувати:

```python
import re
```

Синтаксичні правила регулярних виразів є достатньо простими, однак синтаксис складно назвати читабельним і прозорим.
Часто регулярні вирази стають причинами неочевидних і складних для виправлення помилок. Але є чимала кількість задач, 
які найкращим чином елегантно вирішуються регулярним виразом.

Детальне вивчення синтаксису регулярних виразів виходить за рамки цього курсу. Кому цікаво, можете продовжити
знайомство з регулярними виразами за [посиланням](https://docs.python.org/3/library/re.html)

Для нашої задачі по створенню CRM системи __"Розробники України"__ достатньо буде написати регулярний вираз, що
валідує і виділяє код країни, оператор і сам номер з номеру телефону, а також перевіряє валідність email.

## Модуль re
Модуль `re` містить в собі набір корисних функцій і класів для роботи з регулярними виразами в Python.

## Застосування регулярних виразів
Регулярні вирази часто використовуються для онлайн перевірок. Наприклад, у формі реєстрації ми отримаємо підказку, чи вірними є введені дані.
<img src="python-bc-regular-expressions/img/pass.jpg" alt="Перевірка паролю в Google" style="width:200px"/>

В даному випадку &mdash; кількість символів має дорівнювати __8__, або бути більша.

Форматів даних багато, один з найпоширеніших: міжнародний телефонний номер починається з символу +, має код країни (2 цифри), код оператора (цифра 0 та ще дві цифри) та номер телефону (7 цифр), електронна адреса має структуру рядок@рядок.рядок

Помилка при вводі даних не дозволить ними користуватися: на невірний номер телефону неможливо подзвонити, а кінцевий адресат не отримає листа, що відправлений на невірну адресу електронної пошти.

Для перевірок відповідності рядку заданому шаблону використовують *регулярні вирази*, про які йшлося на початку даної сторінки.

Регулярний вираз для перевірки адреси електронної пошти:

`[^@]+@[^@]+\.[^@]+`

![Регулярний вираз для адреси електронної пошти](python-bc-regular-expressions/img/re1.png)  
  
| регулярний вираз | значення регулярного виразу | № на схемі 
|:----:|:----|:----:|
| [^@] | будь-який символ, окрім @ на початку рядка  | 1,4,7 | 
| + | повторення попереднього блоку 0 або більше разів | 2,5,8 |
| @ | символ @ | 3 |
| \\. | символ . | 6 |

*Для позначення символу `.`, використовується зворотна коса риска \\ (backslash), 
тому що символ крапки є зарезервованим символом для регулярних виразів.*

Вимоги до телефонного номеру: 

`^\+?(\d{2})?\(?(0\d{2})\)?(\d{7}$)`  

![Регулярний вираз для адреси електронної пошти](python-bc-regular-expressions/img/re2.png)


  
| регулярний вираз | значення регулярного виразу | № на схемі
|:----:|:----|:----:|
| ^ | початок рядка | 1 |
| \+ | символ + | 2 |
| ? | повторення попереднього блоку 0 або 1 раз | 3,5,7,10 |
| (\d{2}) | група з двох цифр | 4 |
| \( | символ ( | 6 |
| (0\d{2}) | символ 0 та 2 цифри - код телефонного номеру | 8 |
| (\d{7}$) | 7 цифр, та символ кінця рядку $ | 11 |

*\d &mdash; позначає будь-яку цифру*  
*{2} &mdash; квантифікатор, що показує скільки разів необхідно застосувати елемент, що передує такому квантифікатору*  
*() &mdash; дужки позначають групу елементів*  

Попрактикуватися з регулярними виразами можна на сайті:

 [https://regexr.com/](https://regexr.com/ "Сервіс роботи із регулярними виразами")

## Регулярні вирази в Python

Для роботи з регулярними виразами в Python використовується модуль `re` (`regular expression` - регулярний вираз). Для його підключення необхідно вказати на першому рядку програми  
`import re`

Щоб задати регулярний вираз, використовується метод `compile` модуля `re`. Він створює об'єкт, який відповідає регулярному виразу, що йде в лапках. До такого об'єкту можна застосувати методи роботи з регулярними виразами.

`EMAIL_REGEX = re.compile(r"[^@]+@[^@]+.[^@]+")`

### Метод match
Перевірка того, чи відповідає рядок регулярному виразу реалізується через метод `match`. При використанні з оператором вибору, метод `match` поверне значення `True`, якщо рядок відповідає регулярному виразу та `False` якщо ні.
```python
import re

EMAIL_REGEX = re.compile(r"[^@]+@[^@]+.[^@]+")
email = "info@goiteens.ua"

if EMAIL_REGEX.match(email):
  print("це електронна поштова адреса")
else:
  print("це НЕ електронна поштова адреса")
```

### Метод group
В регулярних виразах часто використовують дужки для відмітки групування. При розборі номера телефону ми в дужках розміщали код країни, код оператора та номер телефону.
За допомогою методу `group` можна отримати значення відповідних груп. Для цього спочатку необхідно отримати значення регулярного виразу (за допомогою методу `search`), а вже після цього, провести операцію, що схожа на розпакування кортежів.

```python
search = re.search(self.PHONE_REGEX, value)
    country, operator, phone_number = search.group(1, 2, 3)
```
### Повернення виключення.
Під час роботи програм можуть виникати певні нестандартні ситуації, або навіть помилки. Для того, щоб навіть при наявності помилки програма продовжувала працювати, використовують інструмент виклику виключень. Для цього використовують команду `raise` і вказують, яке виключення необхідно сформувати.
У випадку з обробкою введених від користувача даних можемо викликати метод `IncorrectInput`, якому передати значення помилки (повідомлення про те, що отриманий рядок не є адресою електронної пошти).
```python
import re
value = "dfs3.com@"
EMAIL_REGEX = re.compile(r"[^@]+@[^@]+\.[^@]+")

if not EMAIL_REGEX.match(value):
    raise IncorrectInput("is not an email.")
```

## Рядок байтів
## Массив байтів
## Вправи

Морской бой
